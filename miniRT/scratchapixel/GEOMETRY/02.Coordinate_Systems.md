이 파일은 https://www.scratchapixel.com/lessons/mathematics-physics-for-computer-graphics/geometry 를 번역한 것입니다. 영어가 서툴러 번역이 잘못되었을 수 있습니다. 번역이 잘못된 부분을 발견하신다면 지적해주시면 감사하겠습니다.

- # 2. Coordinate Systems

## Introducing Coordinate Systems
---
좌표계는 그래픽 파이프 라인에서 필수적인 역할을 합니다. 그것들은 복잡하지 않습니다. 좌표는 기하학을 공부할 때 학교에서 가장 먼저 배우는 것 중 하나입니다. 그러나 지금 몇 가지를 배우면 행렬을 더 쉽게 이해할 수 있습니다.

이전 장에서 우리는 (CG에서 사용하는)점과 벡터가 세 개의 실수로 표현된다는 것을 언급했습니다. 이 숫자는 무엇을 의미할까요? 각 숫자는 선의 원점(origin)에서 해당 선의 점 위치까지 부호 있는 거리(signed distance)를 나타냅니다 . 예를 들어, 선을 그리고 중간에 표시를 하는 것을 고려하십시오. 우리는 이 마크를 원점(그림 1의 origin)이라고 부를 것입니다. 이 표시는 우리의 기준점이 됩니다. 즉, 다른 지점까지의 거리를 측정 할 위치입니다. 점이 원점의 오른쪽에있는 경우 거리가 0보다 커집니다(즉, 양의 값). 반면 원점의 왼쪽에 있으면 값이 0보다 작아집니다(음의 값).

선이 원점의 양쪽으로 끝없이 이동한다고 가정해봅시다. 이론적으로 해당 두 점 사이의 거리는 무한히 커질 수 있습니다. 그러나 이것은 문제를 야기합니다. 컴퓨터 세계에서는 숫자로 표현할 수 있는 값에 실질적인 제한이 있습니다(제한은 해당 숫자를 인코딩하는 데 사용한 비트 수에 따라 다름). 다행히도 이 최대 값은 일반적으로 렌더링하려는 대부분의 3D 장면을 구축하기에 충분히 큽니다. 어쨌든 CG의 세계에서 우리가 다루는 모든 값은 제한되어 있습니다. 즉, 지금은 이러한 제한에 대해 너무 걱정하지 않아도 됩니다.

이제 선과 원점이 있으므로 원점의 양쪽에 일정한 간격(단위 길이)으로 추가 표시를 추가하여 선을 눈금자로 바꿉니다. 눈금자를 설정하면 원점으로부터의 거리를 측정할 때, 점의 좌표를  사용할 수 있습니다. 컴퓨터 그래픽과 수학에서 눈금자는 우리가 축 이라고 부르는 것을 정의합니다 .


거리를 알고자 하는 점이 축의 밖에 있는 경우에도 눈금자를 사용하여 좌표를 구할 수 있습니다. 바로 수직선을 추가하는 것입니다. (원래 있던 눈금자가 수평이라고 가정합니다). 원점에서 눈금자와 이 수직선의 교차점까지의 거리는 해당 축에 대한 해당 점의 좌표입니다. 축을 따라 점의 좌표를 정의하는 방법을 방금 배웠습니다.

![그림 1 : 포인트의 위치는 포인트의 위치에서 축의 원점까지의 (서명 된) 거리로 정의됩니다. 축은 마이너스에서 플러스 무한대로 확장됩니다.](https://www.scratchapixel.com/images/upload/geometry/oneaxis.png?)


## Dimensions and Cartesian Coordinate Systems
---
앞의 가로 눈금자를 x축이라고 부릅시다. 원점에서 x축에 수직인 또 다른 눈금자를 그릴 수 있습니다. 이것은 y축 이라고 부를 것입니다. 어떤 점에서든 각 축(x축과 y축)에 수직인 선을 그리고 해당 교차점에서 원점까지의 거리를 측정하여 x 및 y 좌표를 모두 결정할 수 있습니다. 이제 임의의 점에 대해 두 개의 숫자 또는 두 개의 좌표를 찾을 수 있습니다. 하나는 x축 용이고 다른 하나는 y축 용입니다. 두 개의 축을 배치하여 평면이라고하는 2차원 공간을 정의했습니다.

예를 들어, 종이에 여러 점을 그리는 것을 고려하십시오. 이 종이 조각은 2 차원 공간, 즉 평면을 차지합니다. 다시 두 개의 축을 그릴 수 있습니다 : 각 차원에 하나씩. 동일한 x 축과 y 축을 사용하여 해당 용지에 그려진 각 점을 측정하면 이 두 축이 좌표계를 정의한다고 합니다. 이 두 눈금자가 서로 직각이면 직교 좌표계 라고하는 것을 정의합니다.

점의 좌표를 쓰기 위해 일반적으로 순서쌍(orderd pair)이라는 간결한 표기법을 사용합니다. 순서쌍은 단순히 쉼표로 구분된 두 개의 숫자입니다. 데카르트 좌표계의 경우 먼저 수평 x좌표를 쓰고 수직 y좌표를 쓰는 것이 일반적입니다. 예를 들어 x좌표가 2.5이고 y좌표가 2.25인 점에 대해 (2.5, 2.25)를 씁니다 (그림 2 참조). 이 정렬 된 쌍은 항상 두 개의 부호있는 거리로 해석할 수 있습니다. 점은 원점에서 2.5 단위 거리만큼 오른쪽이고 2.25 단위거리만큼 위쪽입니다. 우리는 다음 강의에서 포인트의 좌표를 쓰는, 위의 방법을 많이 사용할 것입니다.

![그림 2 : 2D 데카르트 좌표계는 두 개의 수직 (직각) 축으로 정의됩니다 (그림 중간에 회색 사각형으로 표시됨). 각 축은 단위 길이의 일정한 간격으로 나뉩니다. 2D 포인트의 좌표를 계산하는 것은 단순히 1D 케이스 (그림 1)를 2D 케이스로 확장 한 것입니다. x와 y에서 좌표계의 원점에서 원점까지의 부호있는 거리를 사용합니다.](https://www.scratchapixel.com/images/upload/geometry/axis2d.png?)

이 시점에서 이제 2 차원 데카르트 좌표계를 만들고 해당 좌표계에서 점의 좌표를 정의하는 방법을 알게 되었습니다. 좌표계에 정의된 점의 좌표는 고유합니다. 즉, 하나의 시스템에서 동일한 점을 두 개의 다른 좌표 세트로 동시에 표현할 수 없습니다. 그러나 우리가 원하는 좌표계를 자유롭게 선택할 수 있다는 점에 유의하는 것이 중요합니다.

사실, 우리는 평면에서 이러한 좌표계를 무한히 정의하도록 선택할 수 있습니다. 단순함을 위해 종이에 이러한 직교 좌표계를 두 개만 그린다고 가정 해 보겠습니다. 이 종이에 우리는 하나의 포인트를 둡니다. 그 지점의 좌표는 우리가 고려하는 두 좌표계 중 어느 것이냐에 따라 달라집니다. 예를 들어, 그림 3에서 점 P는 좌표계 A에서는 좌표 (-1, 3)을, 좌표계 B에서는 (2, 4)좌표를 가지고 있습니다. 그러나 이것은 실제로 동일한 점입니다. 점은 처음 그릴 때와 같은 위치에 있습니다.

만약 좌표계 A에서 P의 좌표를 알고 있다면 다른 좌표계 B에서 어떻게 같은 점의 좌표를 찾을 수 있을까요? 이것은 CG (및 일반적으로 수학)에서 매우 중요한 작업을 나타냅니다. 우리는 곧 어떻게 좌표를 찾는지, 그리고 이러한 작업이 왜 필요한 지를 배우게 될 것입니다.([Transforming_Points_and_Vectors](https://www.scratchapixel.com/lessons/mathematics-physics-for-computer-graphics/geometry/transforming-points-and-vectors) 참고).

![그림 3 : 두 개의 다른 좌표계에서 동일한 지점이 정의됩니다. 좌표에 값 (3, 1)을 더하여 빨간색 좌표계 (A)의 점을 녹색 좌표계 (B)로 변환 할 수 있습니다.](https://www.scratchapixel.com/images/upload/geometry/pointincoordsystems.png?)

지금은 바로 위의 예를 그림 3에서 살펴 보겠습니다. 좌표 (-1, 3)에 값 (3, 1)을 추가하면 좌표 (2, 4)로 이어집니다. 따라서 A좌표계에서의 점 P좌표에 (3, 1)을 추가하면 B좌표계에서의의 P좌표가 생성됩니다. 반대로 (-3, -1)을 (2, 4)에 추가하면 (-1, 3)이 생성됩니다. 이것은 B의 P 좌표를 A의 P 좌표로 가져옵니다. (-3, -1)은 (3, 1)의 역(또는 그 반대)이라는 점에 유의하는 것이 중요합니다. 점의 좌표를 반대 방향으로 변경하는 것으로 생각할 수 있기 때문에 직관적입니다. 

또 다른 일반적인 작업은 좌표계 A의 점을 동일한 좌표계의 다른 위치로 이동하는 것입니다. 이것을 translation이라고 하며 점에 적용할 수 있는 가장 기본적인 작업 중 하나입니다. 모든 종류의 다른 선형 연산자(linear operators)를 점 좌표(point coordinates)에 적용 할 수 있습니다. 점의 좌표에 실수를 곱하면 scale(그림 4)작업을 할 수 있습니다. 스케일은 점과 원점을 통과하는 선을 따라 P를 움직일 수 있습니다(점을 변환 할 때 실제로는 원점에서 점으로 이동하는 벡터를 변환하기 때문입니다). 이 모든 것에 대해서는 나중에 자세히 설명합니다.

![그림 4 : 스케일링 (파란색으로 표시) 또는 점을 이동 (녹색으로 표시)하면 좌표가 수정됩니다. 스케일은 포인트의 좌표에 어떤 값을 곱한 것입니다. 변환은 점의 좌표에 일부 값을 추가하는 것입니다.](https://www.scratchapixel.com/images/upload/geometry/scalepoint.png?)

## The Third Dimension
---
3D 좌표계는 2D 케이스의 단순한 확장입니다. x축과 y축에 직교하는 세 번째 축인 z 축 (깊이를 나타냄)을 추가합니다. x축은 오른쪽을 가리키고, y축은 위쪽을, z축은 뒤쪽(x 축이 오른쪽을 가리킬 때 스크린으로부터 나오는 방향)을 가리 킵니다. 다른 규칙을 사용할 수 있지만, scratchapixel 전체에서 이 규칙을 사용할 것입니다. 기하학에서이 3D 좌표계는 더 공식적으로는 유클리드 공간(Euclidean Space)으로 알려진 것을 정의합니다.

이번 챕터에서는 좌표계에 대한 보다 공식적인 정의에 관심이 있는 분들을 위해 이 단락으로 3차원에 대한 부분을 마칩니다. 선형 대수학에서 3개의 축(1D 및 2D의 경우 각각 1 개 또는 2 개)은 해당 좌표계의 basis라고하는 것을 형성합니다. basis는 서로 선형적으로 독립된 벡터의 집합(a set of linearly independent vectors)으로, 3차원 공간 내의 모든 점을 나타낼 수 있습니다. 집합 중 어떤 벡터도 해당 집합의 다른 벡터의 선형 조합으로 쓸 수 없는 경우에만 선형 적으로 독립적이라고 합니다. Change of basis 또는 좌표계 변경은 수학 및 그래픽 파이프 라인에서 일반적인 작업입니다.

![그림 5 : 3 차원 좌표계. 점은 각 축에 대해 하나씩 세 개의 좌표로 정의됩니다.](https://www.scratchapixel.com/images/upload/geometry/coordsys3d.png?)

## Left_Handed vs Right-Handed Coordinate Systems
---
안타깝게도 손잡이와 관련된 다양한 관습(convention)으로 인해 좌표계는 그렇게 간단하지 않습니다. 문제는 다음 그림에서 설명할 수 있습니다. 위쪽 및 앞쪽 벡터가 같은 방향으로 향하는 경우 (앞쪽 벡터는 화면에서 정의한 평면에서 멀어짐) 적절한 "오른쪽"벡터가 왼쪽과 오른쪽 모두를 가리킬 수 있습니다.
![](https://www.scratchapixel.com/images/upload/geometry/rhlh.png?)

두 가지 규칙을 구별하기 위해 첫 번째 좌표계를 '왼손 좌표계'라고 하고 다른 하나를 '오른손 좌표계'라고 합니다. 왼손 및 오른손 규칙은 물리학자 John Ambrose Fleming이 두 관습을 쉽게 구별하기 위한 방법으로 도입했습니다.

왜 '손'일까요? 그림과 같이 왼손과 오른손으로 손가락의 방향을 지정하면 두 좌표계에 대해 손가락이 오른쪽(right), 위쪽(up) 및 앞쪽(forward) 벡터(때로는 아래쪽(down) 벡터라고도 함)의 방향을 나타내는 것을 볼 수 있습니다 . 말 그대로, 왼손은 왼손 좌표계를 나타내고 오른손은 오른손 좌표계를 나타냅니다. 그러나 오른손 좌표계의 경우 오른쪽 벡터가 실제로 시각적으로 오른쪽을 가리키도록 좌표계를 회전합니다. 그렇게 하면 아래쪽 벡터(forward vector)가 화면에서 멀어지게 됩니다(화면으로부터 나오는 방향이 된다는 말인듯합니다). 이 회전은 그림 6에 나와 있습니다.
![](https://www.scratchapixel.com/images/upload/geometry/rhcoordsys.gif?)

mnemonic device(손?)를 사용해서 좌표계를 확인할 때, 중지(middle finger)가 항상 오른쪽(right) 벡터를 나타내는 것을 잊지 마세요. 먼저 오른쪽 벡터로 간주되는 방향을 따라 양손의 중지를 향하게 하고 다른 두 손가락이 어떤 방향을 가리키는 지 확인합니다. 그럼 왼손 좌표계인지 오른손 좌표계인지 확인할 수 있습니다. 

```c
좌표계의 편리함은 다각형면의 가장자리에서 계산 된 법선의 방향에도 영향을 미칩니다. 방향이 오른쪽이면 정점이 시계 반대 방향 으로 지정된 다각형이 앞쪽을 향합니다. 이것은 다각형 개체 렌더링 강의에서 설명합니다(The handedness of the coordinate system also plays a role in the orientation of normals computed from the edges of polygonal faces. If the orientation is right-handed, then polygons whose vertices were specified in counterclockwise order will be front-facing. This will be explained in the lesson on rendering polygonal objects).
```

## The Right, Up and Forward Vectors
---
데카르트 좌표계는 단위 길이의 세 개의 수직 벡터로만 정의됩니다. 수학적 표기법에 관한 한, 이 좌표계는 세 축이 실제로 의미하는 바에 대해 아무것도 전달하지 않습니다. 개발자는 이러한 축을 해석하는 방법을 결정해야 합니다. 따라서 좌표계와 해당 축에 이름을 붙이는 데 사용되는 규칙을 명확하게 구분하는 것이 매우 중요합니다.

위쪽 벡터를 z 축 또는 y 축이라고 합니까? 그림 7b에 사용 된 규칙을 사용하고 x 축이 올바른 벡터라고 가정합니다. 이 좌표계의 손재주에 대해 무엇을 말할 수 있습니까? 오른손 좌표계입니다 (오른손 가운데 손가락을 x 축 방향으로 맞추고 다른 두 손가락이 위쪽 및 앞쪽 벡터를 가리키는 지 확인). 보시다시피, 우리가하는 일은 오른손 또는 왼손 좌표계를 사용하여 x, y 및 z 축에 레이블을 지정하는 것입니다. 명명 규칙 (이 축에 레이블을 지정하는 방법)은 좌표계의 손재주와 관련이 없습니다. 이 차이를 이해하는 것이 정말 중요합니다. 많은 사람들은 일부 시스템이 상향 벡터에 레이블 이 지정된 규칙을 사용하기 때문에z 축 (더 많이 사용되는 y 축 규칙 대신), 한 시스템은 왼손잡이 용이고 다른 시스템은 오른손 잡 이용입니다. 전혀.

![그림 7: CG에서 가장 많이 사용되는 규칙은 위쪽 벡터를 y 축 (a)으로 정의합니다. 그러나 상향 벡터가 z 축 (b)으로 정의되는 많은 CG 관련 논문 (특히 음영 기법과 관련된 논문) 좌표계에서 찾는 것은 드문 일이 아닙니다.](https://www.scratchapixel.com/images/upload/geometry/zaxis.png?)

좌표계가 왼손인지 오른손인지를 정의하는 유일한 요소는 이러한 축이 나타내는 것에 관계없이 위쪽(up) 및 앞쪽(forward) 벡터에 대한 상대적인 왼쪽 (또는 오른쪽) 벡터의 방향입니다. Handedness and conventions regarding the names of the axes are two different things.(해석이 안 됩니다..)

렌더러 또는 기타 3D 응용 프로그램을 다룰 때 좌표계에 어떤 규칙이 사용되는지 아는 것도 매우 중요합니다. 현재 업계의 표준은 x가 오른쪽(right)을, y가 위쪽(up)을, z가 바깥쪽(outward, 화면에서 나오는 방향)을 가리키는 오른손 좌표계를 사용하는 경향이 있습니다. Maya 및 OpenGL과 같은 프로그램 및 3D API는 오른손 좌표계를 사용하는 반면 DirectX, pbrt 및 PRMan은 왼손 좌표계를 사용합니다. Maya와 PRMan은 모두 위쪽 벡터를 y 축이라고하고 전방 벡터를 z축이라고하는 좌표계를 사용합니다. 이것은 한 시스템의 점에 대한 z 좌표 3이 다른 시스템에서 -3임을 의미합니다. 이러한 이유로 Geometry를 렌더러로 내보낼 때 오브젝트의 z 좌표 기호를 반전해야 할 필요가 있습니다. 좌표계의 선택은 회전과 두 벡터의 외적(Cross product)에 있어서도 중요한 역할을 합니다. 다음 몇 장에서 이에 대해 자세히 설명하겠습니다. 실제로 한 좌표계에서 다른 좌표계로 이동하는 것은 매우 쉽습니다(그러나 고통스럽습니다). 필요한 것은 점의 좌표와 camera-to-wrold matrix를 (1, 1, -1)만큼 scale하는 것입니다.

지금은 Scratchapixel이 주로 Maya와의 호환성을 유지하기 위해 (and also because it seems to have become the de-facto industry standard anyway)오른손 좌표계를 사용하는 것에 주의하십시오(우리는 모두가 실제로 동일한 규칙을 사용하기를 바랐습니다).

## World Coordinate System
---
우리는 점과 벡터의 좌표가 세 개의 수직 단위 벡터(basis를 구성하는)로 정의되는 데카르트 좌표계의 원점과 관련이 있다는 것을 배웠습니다. 우리는 또한 우리가 원하는만큼 많은 좌표계를 만들 수 있고 점과 벡터가 이러한 좌표계 각각 내에서 고유한 좌표를 가지고 있다고 설명했습니다. 그러나 대부분의 3D 응용 프로그램에서 각기 다른 유형의 좌표계는 World라고하는 마스터 좌표계와 관련하여 정의됩니다.좌표계. World좌표계는 다른 모든 좌표계가 정의되는 원점과 기본 x, y, z축을 정의합니다. World좌표계는 렌더링 파이프 라인의 모든 고유한 좌표계 중에서 가장 중요할 수 있습니다. 여기에는 오브젝트, 로컬(음영에 사용됨), 카메라 및 화면 좌표계가 포함됩니다. 우리가 진행하면서이 모든 것을 설명할 것입니다.

## Things We Need To Remember
---
우리는 대부분의 독자 (모두는 아니지만)가 이러한 개념을 설명 할 필요가 없다는 것을 알고 있습니다. 그러나 여기서 중요한 것은 기본 기하학에 대한 지식이 아니라 거의 모든 CG 문헌에서 사용되는 올바른 용어에 대한 편안함입니다. 이 장에서 중요한 용어는 좌표, 축 및 데카르트 좌표계입니다. 또한 점 또는 더 정확하게는 벡터를 변환하기 위해 선형 연산자(linear operator : scale and translate) 개념을 도입했습니다. 이 장에서 기억해야 할 가장 중요한 개념은 점의 좌표가 좌표계와 관련이 있고, 여러 좌표계를 정의 할 수 있으며, 이러한 각 좌표계에서 점이 고유한 좌표를 갖는다는 것입니다. 사용할 좌표계 (프로그램 또는 이미지 렌더링에 사용할 API)가 왼손 좌표계인지 오른손 좌표계인지 알아내는 것도 매우 중요합니다. 좌표계의 편리함을 축 레이블링에 사용되는 규칙과 혼합하지 않는 것이 중요합니다(= It is important to not mix the handedness of a coordinate system with the convention used for the labeling of the axes.).