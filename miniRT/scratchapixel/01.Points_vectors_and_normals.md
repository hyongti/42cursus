이 파일은 https://www.scratchapixel.com/lessons/mathematics-physics-for-computer-graphics/geometry 를 번역한 것입니다. 영어가 서툴러 번역이 잘못되었을 수 있습니다. 번역이 잘못된 부분을 발견하신다면 지적해주시면 감사하겠습니다.

- # 1. Points, Vectors and Normals

## A word of Warning
---
이 수업은 대부분의 독자들에게 길고 지루할 것입니다. 만약 여러분이 컴퓨터 그래픽 분야에 익숙하지 않다면, 시간을 내서 그것을 주의 깊게 읽으세요. CG의 데이터 처리 과정 중 이 부분을 완전히 이해하는 것은 매우 중요하며 나중에 많은 시간을 절약할 수 있을 것입니다.

## Introduction to Geometry
---
컴퓨터그래픽에서의 점, 벡터, 행렬 및 법선은 문학에서의 알파벳과 같습니다. 따라서 대부분의 CG 책들은 선형대수와 기하학에 관한 장에서 시작합니다. 하지만, 그래픽 프로그래밍을 배우고자 하는 많은 사람들에게 이미지 제작에 대해 배우기 전에 많은 수학을 제시하는 것은 상당히 화가 날 수 있습니다. 하지만 수학이 친숙하지 않거나, 행렬을 이해하지 못해서 그래픽 프로그래밍이 자신과 맞지 않는다는 생각이 든다면, 지금은 포기할 때가 아닙니다.

우리는 선형대수에 대한 사전 지식이 필요하지 않은 몇 가지 레슨으로 "3D 렌더링의 창간" 섹션을 시작했습니다. 이것은 그래픽 프로그래밍 기술을 가르치는 관습과는 동떨어져있지만, 우리는 여러분이 실용적이고 재미를 느낄만한 주제로 시작하는 것이 더 좋다고 믿습니다. 예를 들어, 수학에 대한 아주 사소한 지식과 프로그래밍에 대한 약간의 지식이 필요한 레이 트레이서의 도입부. 렌더러를 작성하는 것은 수학을 배우는 훨씬 더 흥미진진하고 보람 있는 방법입니다. 왜냐하면 당신은 어떻게 특정한 것들이 구체적인 결과(즉, 당신의 최종 이미지)를 도출하는 데 사용되는지를 점진적으로 볼 수 있기 때문입니다. 말하자면, 점, 벡터, 행렬은 CG 이미지를 만드는 과정에서 중요한 역할을 합니다; 우리는 거의 모든 수업에서 그것들을 광범위하게 사용할 것입니다.

이 수업에서 당신은 이러한 구조들이 무엇인지, 그것들이 어떻게 작동하는지 그리고 그것들을 조작하는데 사용될 수 있는 다양한 기술들을 배울 것입니다. 이 수업은 또한 CG 연구원들이 그들의 문제를 해결하고 코드를 작성할 때 수년간 사용해온 선형대수학에서의 다른 관습을 설명할 것입니다. 이러한 관습은 책에 언급되지 않는 경우가 매우 많으므로(그리고 웹에서 제대로 문서화되지 않았죠) 이러한 관습에 유의할 필요가 있습니다. 이러한 관습은 중요합니다. 다른 개발자의 코드나 기술을 읽거나 사용하기 전에 먼저 그것들이 어떤 규약을 사용하고 있는지 확인해야 합니다.

만약 당신이 순혈 수학자라면, 당신은 여기서 기술적으로 선형대수학과는 관련이 없는 것들을 보는 것을 이상하게 여길지도 모릅니다. 우리는 이 과의 범위를 넓게 유지하고 벡터와 행렬에만 느슨하게 관련될 수 있는 CG에서 일반적으로 사용되는 간단한 수학 기법을 포함하고 싶습니다. 예를 들어, 어떤 점(point)은 수학적으로 말하면 선형대수학(벡터만을 다루는 수학의 한 분야)과는 아무런 관계가 없다. CG에서는 매우 보편적이기 때문에(그리고 선형대수학에서 나오는 동일한 수학적 기법을 사용하여 그것들을 조작할 수 있기 때문에 점을 다루기로 선택했습니다. 아직 점과 벡터의 구분을 이해하지 못하더라도 걱정하지 마십시오. 우리는 이 장에서 점과 벡터를 광범위하게 다룰 것입니다.

## What is Linear Algebra? Introduction to Vectors
---
그렇다면 선형대수학이란 정확히 무엇이며 이 수업에서 우리는 무엇을 공부할 것인가? 앞 절에서 언급했듯이 선형대수는 벡터 연구와 관계가 있는 수학의 한 분야입니다. 이제 여러분은 "벡터란 무엇이며 CG 세계에서 어떻게 유용한가?"라고 물을지도 모릅니다. 우리는 너무 자세히 설명하지는 않겠지만 벡터는 숫자의 배열로 표현될 수 있습니다. 원하는 길이를 가정할 수 있는 이 숫자의 배열은 수학에서는 tuple(튜플)이라고도 불립니다. 만약 우리가 벡터의 길이에 대해 구체적으로 말하고 싶다면, n-튜플이라고 말할 수 있습니다(n은 배열 원소의 개수). 아래는 6개의 원소를 가진 벡터에 대한 수학 표기법 예시입니다.

*V=(a,b,c,d,e,f)*,
where a, b, c, d, e, f are real numbers.

이 숫자들을 함께 묶는 이유는 이 숫자들이 모여있을 때 유의미한 또 다른 가치나 개념을 나타내기 때문입니다. 예를 들어, 컴퓨터 그래픽에서 벡터는 공간의 위치나 방향을 나타내기 위해 사용될 수 있습니다. 우리는 또한 일련의 작업을 통해 이러한 벡터를 매우 컴팩트하고 간단한 방식으로 변형(또는 수정)할 수 있을 것입니다. 벡터의 내용을 변환하는 과정은 선형 변환이라고 하는 것을 통해 이루어집니다. 우리는 이후의 섹션에서 변화에 대해 더 많은 시간을 할애할 것입니다; 현재로서는 그것들이 매우 유용하다는 것을 인식하는 것이 중요합니다.

## Points and Vectors
---
점 및 벡터라는 용어는 여러 가지 다른 맥락에서 많은 과학 분야에 걸쳐 사용됩니다. 이 절에서는 이 튜토리얼과 컴퓨터 그래픽과 관련하여 두 용어를 설명합니다.

여기서 점은 3차원 공간의 위치입니다. 반면에 벡터는 보통 3차원 공간에서 방향(그리고 어떤 상응하는 크기 또는 크기)을 의미합니다. 벡터는 다양한 방향을 가리키는 화살이라고 생각할 수 있습니다. 3차원 점과 벡터는 앞서 언급한 튜플 표기법으로 표현된다는 점에서 물론 유사합니다.

*V=(x,y,x)*,
where (x, y, z) are again real numbers.

기억하십시오, 수학자나 물리학자와 대화할 때, 벡터나 점에 대한 그들의 이해는 훨씬 더 일반적일 수 있습니다; 그것들은 반드시 우리가 CG로 그것들을 사용하는 것에 제한되지 않습니다. 그들에게 벡터는 임의의 크기일 수도 있고 심지어 무한의 크기일 수도 있습니다(원하는 만큼의 숫자를 포함할 수 있다는 의미).

![Figure 1: a point describes a position in space. A vector can be seen as a direction.](https://www.scratchapixel.com/images/upload/geometry/pointvec.png?)

우리는 이 장을 homogeneous points를 간략히 언급함으로써 마칠 것입니다. 때로는 수학적인 편의를 위해 네 번째 요소를 추가하는 것이 필요합니다. 동차 좌표(homogeneous coordinate)를 갖는 점의 예는 다음과 같다.

*Ph=(x,y,z,w)*

homogeneous point들은 행렬과 점을 곱할 때 사용됩니다. 수업의 이 시점에서 그들을 너무 걱정하지 마십시오. 우리는 단지 그것들이 때때로 문헌에 나타나서 독자들에게 혼란을 줄 수 있기 때문에 지금 언급하는 것입니다. 그것들은 이 수업의 후반부에서 자세히 설명할 것입니다.

## A Quick Introduction to Transformations
---
선형 변환이 점과 벡터에 어떤 영향을 미치는지 여전히 궁금할 수 있습니다. 사실 아주 간단합니다. 우리가 CG에서 포인트에 대해 수행하는 가장 일반적인 작업 중 하나는 단순히 포인트들을 공간 안에서 움직이는 것입니다. 이 변환은 더 구체적으로 translation이라고 불리며 렌더링 과정에서 중요한 역할을 합니다.

translation 연산자는 점의 선형 변환에 지나지 않는다. 벡터에는 적용되지 않습니다! 왜냐하면 벡터가 시작되는 곳(즉, 중심이 되는 곳)은 중요하지 않기 때문입니다. 위치에 관계없이 같은 방향을 가리키는 같은 길이의 모든 "화살표"는 같은 벡터이기 때문입니다. 대신에, 우리는 벡터에 또 다른 선형 변환인 회전(rotation)을 매우 일반적으로 사용한다. 더 많은 연산자가 있지만, 현재로서는 벡터용 점 및 회전만 고려하겠습니다.

*P→Translate→Pt*
*V→Rotate→Vt*
The subscripted letter *t* stands for "transformed".

여러분이 알아차렸을지 모르지만, 지금까지 우리는 벡터의 길이, 즉 크기가 무엇을 의미하는지는 논의하지 않았습니다. 실제로 벡터의 길이는 CG에 있어서 매우 중요합니다. 벡터의 길이가 정확히 1일 때, 우리는 벡터가 정규화(normalized)됐다고 말합니다. 벡터를 정규화하는 것은 벡터의 길이를 1로 만들 뿐 방향은 변하지 않습니다. 대부분의 경우, 우리는 벡터가 정규화되기를 원할 것입니다. 단, 벡터의 길이가 의미 있을 때는 정규화하지 않을 수 있습니다.

예를 들어, A 지점에서 B 지점까지의 선을 추적한다고 상상해 보십시오. 생성된 선은 점 A에 상대적인 점 B의 위치를 나타낸다는 의미에서 벡터입니다. 즉, A 지점에서 B로 향하는 방향을 알려줍니다. 이 경우 벡터 길이는 A에서 B까지의 거리를 나타냅니다. 이 거리는 특정 알고리즘에서 필요할 때도 있습니다.

벡터의 정규화는 종종 애플리케이션에서 버그를 발생시킵니다. 벡터를 선언할 때마다(또는 벡터를 사용할 때마다) 항상 의식적으로 이 벡터가 정상화가 되는지 아니면 안되는지 확인해 볼 것을 권장합니다.

## Normals
---
법선(Normals)이란 컴퓨터 그래픽(및 기하학)에서 그 표면의 한 지점에서 기하학적 물체의 표면의 방향을 설명하기 위해 사용하는 기술 용어입니다. 기술적으로 P 지점에서의 법선은 P에서 표면에 접하는 평면에 수직인 벡터로 볼 수 있습니다. 표준은 물체의 밝기를 계산하는 데 사용되는 음영(shading)에서 중요한 역할을 합니다([Lights_and_Shading](./Lights_and_Shading)참조).

법선들은 주의를 기울여야하는 벡터입니다: 그들은 다른 벡터를 변환하는 것과 같은 방식으로 변환되지 않습니다. 이것이 우리가 시간을 들여 그것들을 따로 다루는 중요한 이유 중 하나입니다. 이 주제에 대한 자세한 내용은 [Transforming_Normals](./Transforming_Normals)장을 참조하십시오. 현재로서는 그것들이 무엇인지를 아는 것이 중요합니다.

![Figure 2: a normal is perpendicular to the plane tangent a P.](https://www.scratchapixel.com/images/upload/geometry/normal.png?)

## From Theory to C++
---
C++ 코드에서 우리는 포인트, 벡터, 그리고 정규를 구분하지 않을 것입니다; 우리는 세 가지 모두를 Vec3 클래스(필요에 따라 float, int 또는 double 버전을 만들 수 있는 클래스 템플릿)로 대표할 것입니다. 일부 개발자들은 그것들을 차별화하는 것을 선호합니다. 이것은 분명히 실수할 가능성을 줄일 수 있습니다. 하지만 경험적으로 우리는 OpenEXR 라이브러리가 하는 것처럼 하나의 독특한 클래스를 다루는 것이 더 효율적이라는 것을 알았습니다. 대신 우리가 다루고 있는 Vec3가 점, 벡터, 법선 중 어느 것을 나타내는지에 따라 우리는 몇 가지 구체적인 기능을 신중하게 불러야 할 것입니다. 기억하시겠지만, 이것은 우리가 변환을 사용할 때 특히 중요합니다. 전체 소스 코드는 이 과의 다운로드 섹션에 제공됩니다.

```cpp
template<typename T> 
class Vec3 
{ 
public: 
    // 3 most basic ways of initializing a vector
    Vec3() : x(T(0)), y(T(0)), z(T(0)) {} 
    Vec3(const T &xx) : x(xx), y(xx), z(xx) {} 
    Vec3(T xx, T yy, T zz) : x(xx), y(yy), z(zz) {} 
    T x, y, z; 
}; 
 
typedef Vec3<float> Vec3f; 
 
Vec3<float> a; 
Vec3f b; 
```

## Summary
---
첫 장부터 수학적으로 벡터는 어떤 차원이든 될 수 있다는 것을 기억해야 합니다. 그러나 CG에서 우리는 보다 구체적인 정의를 사용합니다: 벡터는 3D 공간의 방향입니다(따라서 3개의 숫자로 표시됨). 추가적으로, 우리는 위치의 표현으로서 (또한 3D 공간에서 그리고 또한 3개의 숫자로 표현되는) 점을 이야기합니다. homogeneous points는 4개의 숫자로 표현되지만 나중에 다룰 특별한 경우입니다.

점과 벡터는 선형 변환(linear transformations)을 사용하여 변환할 수 있습니다.
```c
선형 변환이라는 용어가 자주 사용되는 것을 보게 될 것입니다. 만약 선들이 변환되는 동안 보존된다면, 우리는 선형 변환을 말합니다(행렬에 의한 곱셈은 선형 변환이다).
```
그러한 변환의 대표적인 예로는 포인트에 대한 이동(translation)과 벡터에 대한 회전(rotation)이 있습니다. 벡터의 길이는 1로 설정할 수 있으며, 이 경우 우리는 벡터가 정규화된다고 말합니다. 벡터의 길이(정규화되기 전)는 두 점 사이의 거리를 나타내며, 때로는 특정 알고리즘에서 필요합니다. 이 때문에 개발자는 벡터 정규화를 언제, 왜 선택할지 신중해야 합니다.

## What's Next?
---
우리가 아직 설명하지 않은 한 가지 중요한 것은 점과 벡터를 정의하는 세 개의 숫자가 무엇을 나타내는지에 관한 것입니다. 이 숫자는 어떤 참조값에 대한 점의 좌표(2차원 또는 3차원에서)들을 나타냅니다. 이 참조값은 기술적으로 좌표계라고 불리우며 다음 절의 주제입니다.